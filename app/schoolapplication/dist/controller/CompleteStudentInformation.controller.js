sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("com.schoolapp.schoolapplication.controller.Controller",{onInit:function(){},getCompleteStudentInfo:function(){var e=this.getView().getModel("studentModel");let t="/odata/v4/school/Students";let o=[];$.ajax({url:t,dataType:"json",success:function(t){o=t.value;e.setProperty("/StudentData",o)},error:function(e){console.log(e)}})},updateStudentData:function(){var e=this.getView().getModel("studentModel");var t=e.getProperty("/StudentInputSecondPage");var o=e.getProperty("/StudentInputFeesSecondPage");var n={fees_paid:o};let a="/odata/v4/school/StudentFees";let l="(student_id='"+t+"')";$.ajax({url:a+l,contentType:"application/json",type:"PATCH",data:JSON.stringify(n),dataType:"json",success:function(e){console.log("Updated SuccessFully")},error:function(e){console.log(e)}})},createStudentData:async function(){let e=this.getView().getModel("studentModel");let t=e.getProperty("/StudentInputCreate");let o=e.getProperty("/StudentFeesInputCreate");let n="/odata/v4/school/StudentFees";let a={student_id:t,fees_paid:o};try{let e=await this.apiCall(n,a);console.log(e)}catch(e){console.log(e)}let l="/odata/v4/school/Students";let s={student_id:t};let c=await this.apiCall2(l,s);console.log(c)},deleteStudentData:function(){let e=this.getView().getModel("studentModel");let t=e.getProperty("/StudentInputForDelete");let o="/odata/v4/school/Students";let n="(student_id='"+t+"')";$.ajax({url:o+n,contentType:"application/json",type:"DELETE",dataType:"json",success:function(e){console.log(e)},error:function(e){console.log(e)}})},apiCall:function(e,t){return new Promise((o,n)=>{$.ajax({url:e,contentType:"application/json",type:"POST",data:JSON.stringify(t),dataType:"json",success:function(e){console.log("Created Fees DataSuccessfully");o("Succesfully Created Fees table")},error:function(e){console.log("Error While creating Student Fees Data");n("Error Occured while creating")}})})},apiCall2:function(e,t){return new Promise((o,n)=>{$.ajax({url:e,contentType:"application/json",type:"POST",data:JSON.stringify(t),dataType:"json",success:function(e){o("Created Successfully")},error:function(e){n("Error While creating Student")}})})}})});
//# sourceMappingURL=CompleteStudentInformation.controller.js.map